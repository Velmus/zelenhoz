:root{
  --palm:   #657F38;
  --leaf:   #9EAB57;
  --shadow: #212C1B;
  --terra:  #D57640;
  --cream:  #FCE0C0;

  --green-deep: var(--palm);
  --green-soft: var(--leaf);

  --bs-primary: var(--palm);
  --bs-success: var(--leaf);
  --bs-dark:    var(--shadow);
  --bs-warning: var(--terra);
  --bs-light:   var(--cream);
}

body{
  background: linear-gradient(180deg, #f5fbf6 0%, #eef7ef 60%, #ffffff 100%);
  color:#0f172a;
  padding-top: 0;
}

/* Header */
.navbar{ background: var(--green-deep) !important; box-shadow: 0 2px 12px rgba(30,75,38,.08); }
.navbar .nav-link{ color:#fff !important; font-weight:700; }
.navbar .nav-link:hover{ color:#e6f3ea !important; }

/* Hero */
.hero-carousel .carousel-item{ max-height:66vh; position:relative; }
.hero-carousel .carousel-item img{ height:66vh; width:100%; object-fit:cover; transform:scale(1); transition: transform 8s ease;  position:relative; z-index:0; }
.hero-carousel .carousel-item.active img{ transform:scale(1.05); }
.hero-carousel .carousel-item::after{ content:none !important; background:none !important; pointer-events:none; position:absolute; inset:0; z-index:0; }
.hero-title{ font-weight:700; color:#fff; text-shadow:0 2px 0 rgba(30,75,38,.9), 0 4px 12px rgba(0,0,0,.25); }
.hero-sub{ color:#f5fff7; text-shadow:0 1px 0 rgba(30,75,38,.9); }
.carousel-indicators [data-bs-target]{ background-color: var(--leaf); }

.section-title{  padding-left:.75rem; }

/* Stores */
.store-card img{ aspect-ratio:16/9; object-fit:cover; border-top-left-radius:1rem; border-top-right-radius:1rem; }
.card{ border-radius:1rem; }

/* Catalog slider */
.catalog-slider{ position:relative; overflow:hidden; }
.catalog-slider .slider-track{ display:flex; gap:1rem; transition: transform 400ms ease; will-change: transform; }
.catalog-slider .slider-item{ flex:0 0 auto; }
@media (min-width: 992px){ .catalog-slider .slider-item{ width: calc((100% - 2rem)/3); } }
@media (min-width: 576px) and (max-width: 991.98px){ .catalog-slider .slider-item{ width: calc((100% - 1rem)/2); } }
@media (max-width: 575.98px){ .catalog-slider .slider-item{ width: 100%; } }

.catalog-controls{ display:flex; justify-content: center; gap:.5rem; margin-bottom:.5rem; 
  margin-top: 0.75rem;
}
.catalog-controls .btn{ border-radius:999px; width:40px; height:40px; display:flex; align-items:center; justify-content:center; padding:0; }

/* Catalog equal heights + labels + hover zoom */
.plant-card{ position: relative; display:flex; flex-direction:column; height:100%; overflow: hidden; }
.plant-card img{ aspect-ratio: 4/3; object-fit:cover; transition: transform .6s ease; }
.plant-card:hover img{ transform: scale(1.03); }
.plant-card .card-body{ flex:1 1 auto; display:flex; flex-direction:column; justify-content:space-between; }

.plant-card .badge-wrap{
  position: absolute; top: .5rem; left: .5rem; display:flex; gap:.35rem; flex-wrap:wrap; z-index:2;
}
.plant-card .badge-chip{
  backdrop-filter: blur(6px);
  background: rgba(33,44,27,.65);
  color:#fff; border-radius:999px; padding:.2rem .6rem; font-size:.75rem; line-height:1;
  display:inline-flex; align-items:center; gap:.25rem;
}
.plant-card .badge-chip i{ font-size:.85rem; opacity:.9; }

/* Buttons & links */
.btn-primary{
  --bs-btn-bg: var(--green-deep); --bs-btn-border-color: var(--green-deep);
  --bs-btn-hover-bg: #183d20; --bs-btn-hover-border-color: #183d20;
  --bs-btn-active-bg: #13341a; --bs-btn-active-border-color: #13341a;
}
.btn-outline-primary{
  --bs-btn-color: var(--green-deep); --bs-btn-border-color: var(--green-deep);
  --bs-btn-hover-bg: var(--green-deep); --bs-btn-hover-border-color: var(--green-deep);
}
a{ color: var(--green-deep); text-decoration-color: rgba(30,75,38,.35); }
a:hover{ color: var(--green-soft); text-decoration-color: rgba(143,156,104,.6); }

/* Catalog image holder for stable zoom */
.plant-image-holder {
  overflow: hidden;
  aspect-ratio: 4 / 3;
  border-top-left-radius: 1rem;
  border-top-right-radius: 1rem;
}
.plant-image-holder img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform .6s ease;
}
.plant-card:hover .plant-image-holder img {
  transform: scale(1.03);
}


/* --- FIX: overlay only on background image, keep text crisp --- */
.promo, .hero, section.promo, section.hero {
  position: relative;
}
.promo .overlay, .hero .overlay {
  position: absolute;
  inset: 0;
  z-index: 0;
}
.promo .promo-content, .hero .promo-content {
  position: relative;
  z-index: 1;
}
.promo::before, .hero::before {
  /* if pseudo used elsewhere, this keeps it behind content */
  z-index: 0;
}
/* Avoid opacity on the whole promo container */
.promo, .hero {
  opacity: 1 !important;
  filter: none !important;
}
/* --- END FIX --- */


/* --- FIX: Darken only the carousel image, not the text --- */
.carousel-item { position: relative; }
.carousel-item img { display:block; width:100%; height:auto; filter: brightness(0.6); }
.carousel-caption{ position:absolute; z-index:2; color:#fff; }
.carousel-item .promo-content{ position:relative; z-index:2; }
/* --- END FIX --- */








/* --- Section title icon styling (Bootstrap Icons) --- */
.section-title{
  border-left: none !important;
  padding-left: 0;
  display: flex;
  align-items: center;
  gap: .5rem;
}
.section-title .bi{
  font-size: 1.25rem;
  line-height: 1;
  color: var(--palm); /* unified icon color */
}

#about .section-title .bi{ display:none; }
 /* no icon for About */

/* --- END Section title icon styling --- */


/* --- Contacts section styling --- */
#contacts {
  background: linear-gradient(to bottom, #f5faf5 0%, #edf5ed 100%);
  padding-top: 4rem;
  padding-bottom: 4rem;
  border-top: 1px solid rgba(0, 0, 0, 0.05);
  box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.03) inset;
}
#contacts .section-title {
  color: var(--palm);
}
/* --- END Contacts section styling --- */


/* --- Plant Finder (mini-quiz) --- */
#finder .btn-outline-primary{ border-color: var(--palm); color: var(--palm); }
#finder .btn-outline-primary:hover, 
#finder .btn-check:checked + .btn{ background-color: var(--palm); color:#fff; border-color: var(--palm); }
#finder .card{ border: 1px solid rgba(0,0,0,.075); }
/* --- Catalog badges --- */
.badges .badge{ font-weight: 600; }
.text-bg-success{ background-color: var(--leaf) !important; }
.text-bg-secondary{ background-color: #e7efe8 !important; color: var(--shadow) !important; }


/* --- Contact brand icons (header & footer) --- */
.contact-icons .contact-link { display:inline-flex; align-items:center; justify-content:center; width:2.25rem; height:2.25rem; border-radius:50%; transition:transform .2s ease, background-color .2s ease, color .2s ease; color: var(--palm); background: #f4faf4; }
.contact-icons .contact-link:hover { transform: translateY(-1px) scale(1.05); background: #e8f3e8; }
.contact-icons .contact-link .brand-ico { width:1.35rem; height:1.35rem; display:block; }

/* Brand-specific subtle colors on hover */
.contact-icons .contact-link.tg:hover { color:#229ED9; }
.contact-icons .contact-link.wa:hover { color:#25D366; }
.contact-icons .contact-link.tel:hover { color: var(--leaf); }


/* --- Sticky footer layout --- */
html, body { height: 100%; }
body { display: flex; flex-direction: column; }
main, #main { flex: 1 0 auto; }
footer { flex-shrink: 0; }
/* --- END sticky footer --- */




/* --- Inner pages spacing (navbar fixed offset on container) --- */
:root{ --nav-offset: 88px; } /* adjust if navbar height changes */
body.page #main .container{ padding-top: calc(var(--nav-offset) + 1.5rem); padding-bottom: 3rem; }
@media (max-width: 991.98px){
  :root{ --nav-offset: 64px; }
}
/* --- End inner pages spacing --- */


/* --- Price page elements --- */
.divider{ height:1px; background: rgba(0,0,0,.08); }
.price-links a.highlight3{ color: var(--palm); text-decoration: none; }
.price-links a.highlight3:hover{ text-decoration: underline; }
/* --- End price page elements --- */


/* Обёртка для горизонтального скролла на узких экранах */
.table-wrapper {
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  max-width: 100%;
  margin: 16px 0;
  border: 1px solid rgba(0,0,0,.08);
  border-radius: 12px;
  box-shadow: 0 1px 6px rgba(0,0,0,.05);
}


/* Палитра Зеленхоза (настраиваемые CSS-переменные) */
.modal--zelenhoz {
  --zh-green: #2ea66a;
  --zh-green-2: #36b37e;
  --zh-bg: #ffffff;
  --zh-text: #0f2a20;
  --zh-muted: #5b6b63;
  --zh-border: #e6f3ea;
  --zh-shadow: 0 12px 40px rgba(0,0,0,.18);
}

/* Тёмная тема */
@media (prefers-color-scheme: dark) {
  .modal--zelenhoz {
    --zh-bg: #0f1512;
    --zh-text: #e6f7ee;
    --zh-muted: #a8cbb8;
    --zh-border: #1e2a24;
    --zh-shadow: 0 12px 40px rgba(0,0,0,.6);
  }
}

/* Контейнер модалки */
.modal--zelenhoz .modal-dialog {
  max-width: min(960px, 92vw);
}

.modal--zelenhoz .modal-content {
  border: 1px solid var(--zh-border);
  border-radius: 18px;
  background: var(--zh-bg);
  color: var(--zh-text);
  box-shadow: var(--zh-shadow);
  overflow: hidden;
}

/* Шапка: тонкая нижняя граница + фирменный акцент в заголовке */
.modal--zelenhoz .modal-header {
  border-bottom: 1px solid var(--zh-border);
  padding: 16px 18px;
}
.modal--zelenhoz .modal-title {
  font-weight: 700;
  letter-spacing: .2px;
}
.modal--zelenhoz .modal-title::after {
  content: "";
  display: inline-block;
  width: 8px; height: 8px;
  margin-left: 10px;
  border-radius: 999px;
  background: radial-gradient(100% 100% at 50% 0%, var(--zh-green-2), var(--zh-green));
  opacity: .85;
}

/* Тело: простор и сетка */
.modal--zelenhoz .modal-body {
  padding: 18px;
}
@media (min-width: 768px) {
  .modal--zelenhoz .modal-body { padding: 22px; }
}

/* Картинка: аккуратные углы, тень */
.modal--zelenhoz #productModalImg {
  border-radius: 14px;
  box-shadow: 0 6px 24px rgba(0,0,0,.08);
  background: #f7faf8;
}

/* Текст описания и цены */
.modal--zelenhoz #productModalDesc {
  color: var(--zh-muted);
  line-height: 1.55;
}
.modal--zelenhoz #productModalPrice {
  margin-top: 12px;
  font-weight: 800;
  font-size: clamp(18px, 2.2vw, 22px);
  color: var(--zh-green);
}

/* Низ модалки */
.modal--zelenhoz .modal-footer {
  border-top: 1px solid var(--zh-border);
  background: linear-gradient(180deg, transparent, rgba(0,0,0,.02));
  padding: 12px 18px;
}

/* Кнопки под стили бренда (сохранит совместимость с Bootstrap) */
.modal--zelenhoz .btn-success {
  --bs-btn-bg: var(--zh-green);
  --bs-btn-border-color: var(--zh-green);
  --bs-btn-hover-bg: var(--zh-green-2);
  --bs-btn-hover-border-color: var(--zh-green-2);
  --bs-btn-active-bg: var(--zh-green-2);
  --bs-btn-active-border-color: var(--zh-green-2);
  box-shadow: 0 4px 14px rgba(54, 179, 126, .35);
}
.modal--zelenhoz .btn-outline-secondary {
  --bs-btn-border-color: var(--zh-border);
  --bs-btn-color: var(--zh-text);
  --bs-btn-hover-bg: rgba(0,0,0,.04);
  --bs-btn-hover-border-color: var(--zh-border);
}

/* Крестик – нейтральный, но с hover */
.modal--zelenhoz .btn-close {
  filter: invert(18%) sepia(11%) saturate(350%) hue-rotate(100deg) brightness(95%) contrast(92%);
  opacity: .7;
}
.modal--zelenhoz .btn-close:hover { opacity: 1; }

/* Анимация плавного появления (добавляет живости) */
.modal--zelenhoz .modal-dialog {
  transform: translateY(8px) scale(.99);
  transition: transform .18s ease, opacity .18s ease;
  opacity: 0;
}
.modal.show.modal--zelenhoz .modal-dialog {
  transform: translateY(0) scale(1);
  opacity: 1;
}

/* Мелкие детали типографики */
.modal--zelenhoz .lead, 
.modal--zelenhoz p { margin-bottom: .8rem; }

.modal--zelenhoz.modal.fade .modal-backdrop,
.modal--zelenhoz ~ .modal-backdrop { 
  /* Bootstrap вставляет backdrop отдельно; этот селектор подхватит его */
  background-color: rgba(7, 29, 21, .55);
}

/* === Fix: привязываем модалку к брендовым переменным (ставь в самый низ файла) === */
.modal--zelenhoz {
  /* вместо захардкоженных #2ea66a/#36b37e */
  --zh-green: var(--palm);   /* основной зелёный */
  --zh-green-2: var(--leaf); /* светлый/hover */

  /* базовые тона модалки — под твою палитру */
  --zh-bg: var(--cream);     /* тёплый светлый фон */
  --zh-text: var(--shadow);  /* основной текст */
  --zh-muted: #5b6b63;       /* можно оставить как есть, выглядит ок с твоей гаммой */
  --zh-border: #e6f3ea;      /* тонкая светлая граница */
  --zh-shadow: 0 12px 40px rgba(0,0,0,.18);
}

/* тёмная тема под твои цвета */
@media (prefers-color-scheme: dark) {
  .modal--zelenhoz {
    --zh-bg: var(--shadow);
    --zh-text: var(--cream);
    --zh-muted: #c8d3c4;   /* чуть светлее muted для контраста */
    --zh-border: rgba(255,255,255,.12);
    --zh-shadow: 0 12px 40px rgba(0,0,0,.6);
  }
}
